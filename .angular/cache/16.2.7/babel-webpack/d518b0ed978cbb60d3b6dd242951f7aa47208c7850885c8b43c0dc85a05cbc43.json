{"ast":null,"code":"import { HttpHeaders } from '@angular/common/http';\nimport { throwError } from 'rxjs';\nimport { catchError } from 'rxjs/operators';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nconst httpOptions = {\n  headers: new HttpHeaders({\n    'Content-Type': 'application/json'\n  })\n};\nexport class FilmesService {\n  constructor(http) {\n    this.http = http;\n    this.apiUrl = 'http://localhost:5000/api/filmes';\n  }\n  listarFilmes() {\n    return this.http.get(`${this.apiUrl}`).pipe(catchError(this.handleError));\n  }\n  cadastrarFilme(filme) {\n    return this.http.post(`${this.apiUrl}`, filme, httpOptions).pipe(catchError(this.handleError));\n  }\n  buscarFilme(id) {\n    return this.http.get(`${this.apiUrl}/${id}`).pipe(catchError(this.handleError));\n  }\n  alterarFilme(filme) {\n    return this.http.put(`${this.apiUrl}/${filme.id}`, filme, httpOptions).pipe(catchError(this.handleError));\n  }\n  excluirFilme(id) {\n    return this.http.delete(`${this.apiUrl}/${id}`).pipe(catchError(this.handleError));\n  }\n  handleError(error) {\n    if (error.error instanceof ErrorEvent) {\n      // Um erro no lado do cliente ocorreu. Gerenciar o erro localmente aqui.\n      console.error('Ocorreu um erro:', error.error.message);\n    } else {\n      // O back-end retornou um código de resposta malsucedido.\n      // O corpo da resposta pode conter pistas sobre o que deu errado.\n      console.error(`Código de erro do back-end ${error.status}, ` + `corpo do erro: ${error.error}`);\n    }\n    // Retornar um observável com uma mensagem de erro voltada para o usuário.\n    return throwError('Algo deu errado; por favor, tente novamente mais tarde.');\n  }\n  static #_ = this.ɵfac = function FilmesService_Factory(t) {\n    return new (t || FilmesService)(i0.ɵɵinject(i1.HttpClient));\n  };\n  static #_2 = this.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n    token: FilmesService,\n    factory: FilmesService.ɵfac,\n    providedIn: 'root'\n  });\n}","map":{"version":3,"names":["HttpHeaders","throwError","catchError","httpOptions","headers","FilmesService","constructor","http","apiUrl","listarFilmes","get","pipe","handleError","cadastrarFilme","filme","post","buscarFilme","id","alterarFilme","put","excluirFilme","delete","error","ErrorEvent","console","message","status","_","i0","ɵɵinject","i1","HttpClient","_2","factory","ɵfac","providedIn"],"sources":["C:\\Users\\jarth\\OneDrive\\Área de Trabalho\\Projetos&Atividades\\CSHARP\\ApiFSE\\WebApiCsharp\\WebApi\\appWebApi\\src\\app\\filmes.service.ts"],"sourcesContent":["import { Filmes } from './components/Filmes';\nimport { Injectable } from '@angular/core';\nimport { HttpClient, HttpHeaders, HttpErrorResponse } from '@angular/common/http';\nimport { Observable, throwError } from 'rxjs';\nimport { catchError } from 'rxjs/operators';\n\nconst httpOptions = {\n  headers: new HttpHeaders({\n    'Content-Type': 'application/json'\n  })\n};\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class FilmesService {\n\n  constructor(private http: HttpClient) {}\n\n  apiUrl = 'http://localhost:5000/api/filmes';\n\n  listarFilmes(): Observable<Filmes[]> {\n    return this.http.get<Filmes[]>(`${this.apiUrl}`).pipe(\n      catchError(this.handleError)\n    );\n  }\n  \n  cadastrarFilme(filme: Filmes): Observable<Filmes> {\n    return this.http.post<Filmes>(`${this.apiUrl}`, filme, httpOptions).pipe(\n      catchError(this.handleError)\n    );\n  }\n  \n  buscarFilme(id: number): Observable<Filmes> {\n    return this.http.get<Filmes>(`${this.apiUrl}/${id}`).pipe(\n      catchError(this.handleError)\n    );\n  }\n  \n  alterarFilme(filme: Filmes): Observable<Filmes> {\n    return this.http.put<Filmes>(`${this.apiUrl}/${filme.id}`, filme, httpOptions).pipe(\n      catchError(this.handleError)\n    );\n  }\n  \n  excluirFilme(id: number): Observable<void> {\n    return this.http.delete<void>(`${this.apiUrl}/${id}`).pipe(\n      catchError(this.handleError)\n    );\n  }\n\n  private handleError(error: HttpErrorResponse) {\n    if (error.error instanceof ErrorEvent) {\n      // Um erro no lado do cliente ocorreu. Gerenciar o erro localmente aqui.\n      console.error('Ocorreu um erro:', error.error.message);\n    } else {\n      // O back-end retornou um código de resposta malsucedido.\n      // O corpo da resposta pode conter pistas sobre o que deu errado.\n      console.error(\n        `Código de erro do back-end ${error.status}, ` +\n        `corpo do erro: ${error.error}`);\n    }\n    // Retornar um observável com uma mensagem de erro voltada para o usuário.\n    return throwError(\n      'Algo deu errado; por favor, tente novamente mais tarde.');\n  }\n}\n\n"],"mappings":"AAEA,SAAqBA,WAAW,QAA2B,sBAAsB;AACjF,SAAqBC,UAAU,QAAQ,MAAM;AAC7C,SAASC,UAAU,QAAQ,gBAAgB;;;AAE3C,MAAMC,WAAW,GAAG;EAClBC,OAAO,EAAE,IAAIJ,WAAW,CAAC;IACvB,cAAc,EAAE;GACjB;CACF;AAKD,OAAM,MAAOK,aAAa;EAExBC,YAAoBC,IAAgB;IAAhB,KAAAA,IAAI,GAAJA,IAAI;IAExB,KAAAC,MAAM,GAAG,kCAAkC;EAFJ;EAIvCC,YAAYA,CAAA;IACV,OAAO,IAAI,CAACF,IAAI,CAACG,GAAG,CAAW,GAAG,IAAI,CAACF,MAAM,EAAE,CAAC,CAACG,IAAI,CACnDT,UAAU,CAAC,IAAI,CAACU,WAAW,CAAC,CAC7B;EACH;EAEAC,cAAcA,CAACC,KAAa;IAC1B,OAAO,IAAI,CAACP,IAAI,CAACQ,IAAI,CAAS,GAAG,IAAI,CAACP,MAAM,EAAE,EAAEM,KAAK,EAAEX,WAAW,CAAC,CAACQ,IAAI,CACtET,UAAU,CAAC,IAAI,CAACU,WAAW,CAAC,CAC7B;EACH;EAEAI,WAAWA,CAACC,EAAU;IACpB,OAAO,IAAI,CAACV,IAAI,CAACG,GAAG,CAAS,GAAG,IAAI,CAACF,MAAM,IAAIS,EAAE,EAAE,CAAC,CAACN,IAAI,CACvDT,UAAU,CAAC,IAAI,CAACU,WAAW,CAAC,CAC7B;EACH;EAEAM,YAAYA,CAACJ,KAAa;IACxB,OAAO,IAAI,CAACP,IAAI,CAACY,GAAG,CAAS,GAAG,IAAI,CAACX,MAAM,IAAIM,KAAK,CAACG,EAAE,EAAE,EAAEH,KAAK,EAAEX,WAAW,CAAC,CAACQ,IAAI,CACjFT,UAAU,CAAC,IAAI,CAACU,WAAW,CAAC,CAC7B;EACH;EAEAQ,YAAYA,CAACH,EAAU;IACrB,OAAO,IAAI,CAACV,IAAI,CAACc,MAAM,CAAO,GAAG,IAAI,CAACb,MAAM,IAAIS,EAAE,EAAE,CAAC,CAACN,IAAI,CACxDT,UAAU,CAAC,IAAI,CAACU,WAAW,CAAC,CAC7B;EACH;EAEQA,WAAWA,CAACU,KAAwB;IAC1C,IAAIA,KAAK,CAACA,KAAK,YAAYC,UAAU,EAAE;MACrC;MACAC,OAAO,CAACF,KAAK,CAAC,kBAAkB,EAAEA,KAAK,CAACA,KAAK,CAACG,OAAO,CAAC;KACvD,MAAM;MACL;MACA;MACAD,OAAO,CAACF,KAAK,CACX,8BAA8BA,KAAK,CAACI,MAAM,IAAI,GAC9C,kBAAkBJ,KAAK,CAACA,KAAK,EAAE,CAAC;;IAEpC;IACA,OAAOrB,UAAU,CACf,yDAAyD,CAAC;EAC9D;EAAC,QAAA0B,CAAA,G;qBAlDUtB,aAAa,EAAAuB,EAAA,CAAAC,QAAA,CAAAC,EAAA,CAAAC,UAAA;EAAA;EAAA,QAAAC,EAAA,G;WAAb3B,aAAa;IAAA4B,OAAA,EAAb5B,aAAa,CAAA6B,IAAA;IAAAC,UAAA,EAFZ;EAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}